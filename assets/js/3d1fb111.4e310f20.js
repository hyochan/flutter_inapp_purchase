"use strict";(self.webpackChunkflutter_inapp_purchase_docs=self.webpackChunkflutter_inapp_purchase_docs||[]).push([[158],{22039:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"api/error-codes","title":"Error Handling","description":"Comprehensive error handling guide for flutterinapppurchase v7.0. Learn how to handle purchase errors effectively.","source":"@site/versioned_docs/version-7.1/api/error-codes.md","sourceDirName":"api","slug":"/api/error-codes","permalink":"/flutter_inapp_purchase/7.1/api/error-codes","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/flutter_inapp_purchase/tree/main/docs/versioned_docs/version-7.1/api/error-codes.md","tags":[],"version":"7.1","sidebarPosition":5,"frontMatter":{"title":"Error Handling","sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Listeners","permalink":"/flutter_inapp_purchase/7.1/api/listeners"},"next":{"title":"Purchase Flow","permalink":"/flutter_inapp_purchase/7.1/examples/purchase-flow"}}');var o=n(74848),a=n(28453),i=n(35159);const t={title:"Error Handling",sidebar_position:5},l="Error Handling",c={},d=[{value:"PurchaseError Class",id:"purchaseerror-class",level:2},{value:"Error Codes",id:"error-codes",level:2},{value:"Error Handling Pattern",id:"error-handling-pattern",level:2},{value:"Basic Handler",id:"basic-handler",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"See Also",id:"see-also",level:2}];function h(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"error-handling",children:"Error Handling"})}),"\n",(0,o.jsx)(i.A,{}),"\n",(0,o.jsx)(r.p,{children:"Comprehensive error handling guide for flutter_inapp_purchase v7.0. Learn how to handle purchase errors effectively."}),"\n",(0,o.jsx)(r.h2,{id:"purchaseerror-class",children:"PurchaseError Class"}),"\n",(0,o.jsxs)(r.p,{children:["Errors are delivered through the ",(0,o.jsx)(r.code,{children:"purchaseErrorListener"})," stream."]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-dart",children:"class PurchaseError {\n  final ErrorCode code;\n  final String message;\n  final String? debugMessage;\n  final String? productId;\n}\n"})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Listening for Errors"}),":"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-dart",children:"iap.purchaseErrorListener.listen((error) {\n  debugPrint('Error: ${error.code} - ${error.message}');\n  _handleError(error);\n});\n"})}),"\n",(0,o.jsx)(r.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,o.jsxs)(r.p,{children:["For a complete list of error codes, see ",(0,o.jsx)(r.a,{href:"./types/error-codes",children:"Error Codes Reference"}),"."]}),"\n",(0,o.jsx)(r.h2,{id:"error-handling-pattern",children:"Error Handling Pattern"}),"\n",(0,o.jsx)(r.h3,{id:"basic-handler",children:"Basic Handler"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-dart",children:"void _handleError(PurchaseError error) {\n  switch (error.code) {\n    case ErrorCode.UserCancelled:\n      // Don't show error for user cancellation\n      debugPrint('User cancelled purchase');\n      break;\n\n    case ErrorCode.NetworkError:\n      _showMessage('Network error. Please check your connection.');\n      break;\n\n    case ErrorCode.AlreadyOwned:\n      _showMessage('You already own this item.');\n      _restorePurchases();\n      break;\n\n    case ErrorCode.ItemUnavailable:\n      _showMessage('This item is currently unavailable.');\n      break;\n\n    case ErrorCode.ServiceError:\n      _showMessage('Service temporarily unavailable. Please try again later.');\n      break;\n\n    default:\n      _showMessage('Purchase failed: ${error.message}');\n  }\n}\n"})}),"\n",(0,o.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Don't show errors for user cancellation"})," - Check for ",(0,o.jsx)(r.code,{children:"ErrorCode.UserCancelled"})]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Retry network errors"})," - Implement exponential backoff"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Log errors for monitoring"})," - Track error patterns"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Show user-friendly messages"})," - Avoid technical jargon"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Handle platform-specific errors"})," - Check error codes appropriately"]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"see-also",children:"See Also"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.a,{href:"./types/error-codes",children:"Error Codes Reference"})," - Complete error code list"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.a,{href:"./listeners",children:"Listeners"})," - Error event streams"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.a,{href:"../guides/troubleshooting",children:"Troubleshooting"})," - Solving common issues"]}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},27856:(e,r,n)=>{n.d(r,{I:()=>o,V:()=>s});const s="https://iapkit.com",o="https://www.hyo.dev/api/ad-banner/cmjf0l1x30001249hbi91aop6"},28453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>t});var s=n(96540);const o={},a=s.createContext(o);function i(e){const r=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:r},e.children)}},35159:(e,r,n)=>{n.d(r,{A:()=>a});n(96540);var s=n(27856),o=n(74848);function a({style:e}){return(0,o.jsx)("div",{style:{marginTop:24,marginBottom:24,textAlign:"center",...e},children:(0,o.jsx)("a",{href:s.V,target:"_blank",rel:"noopener noreferrer",onClick:async()=>{try{await fetch(s.I,{method:"POST",mode:"no-cors"})}catch(e){}},children:(0,o.jsx)("img",{src:n(65860).A,alt:"IapKit - Fraud-proof your in-app purchases",style:{objectFit:"cover",border:"none"}})})})}},65860:(e,r,n)=>{n.d(r,{A:()=>s});const s=n.p+"assets/images/iapkit-banner-c71d8c3f875ca90b812e7b54822795d2.gif"}}]);