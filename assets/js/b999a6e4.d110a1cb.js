"use strict";(self.webpackChunkflutter_inapp_purchase_docs=self.webpackChunkflutter_inapp_purchase_docs||[]).push([[6212],{8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var s=r(6540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}},8567:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api/types","title":"Types","description":"Comprehensive type definitions for flutterinapppurchase v7.0. All types follow the OpenIAP specification and are auto-generated from the schema.","source":"@site/docs/api/types.md","sourceDirName":"api","slug":"/api/types","permalink":"/flutter_inapp_purchase/docs/api/types","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/flutter_inapp_purchase/tree/main/docs/docs/api/types.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Types","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"API Reference","permalink":"/flutter_inapp_purchase/docs/api/"},"next":{"title":"Core Methods","permalink":"/flutter_inapp_purchase/docs/api/core-methods"}}');var i=r(4848),t=r(8453);const a={title:"Types",sidebar_position:2},c="Types",d={},o=[{value:"Core Types",id:"core-types",level:2},{value:"RequestPurchase",id:"requestpurchase",level:3},{value:"RequestPurchaseIOS",id:"requestpurchaseios",level:3},{value:"RequestPurchaseAndroid",id:"requestpurchaseandroid",level:3},{value:"Product Types",id:"product-types",level:2},{value:"Product (Union Type)",id:"product-union-type",level:3},{value:"ProductIOS",id:"productios",level:3},{value:"ProductAndroid",id:"productandroid",level:3},{value:"ProductSubscriptionIOS",id:"productsubscriptionios",level:3},{value:"ProductSubscriptionAndroid",id:"productsubscriptionandroid",level:3},{value:"Purchase Types",id:"purchase-types",level:2},{value:"Purchase (Union Type)",id:"purchase-union-type",level:3},{value:"PurchaseIOS",id:"purchaseios",level:3},{value:"PurchaseAndroid",id:"purchaseandroid",level:3},{value:"PurchaseError",id:"purchaseerror",level:3},{value:"Enums",id:"enums",level:2},{value:"ProductQueryType",id:"productquerytype",level:3},{value:"ProductType",id:"producttype",level:3},{value:"PurchaseState",id:"purchasestate",level:3},{value:"ErrorCode",id:"errorcode",level:3},{value:"IapPlatform",id:"iapplatform",level:3},{value:"Additional Types",id:"additional-types",level:2},{value:"ActiveSubscription",id:"activesubscription",level:3},{value:"PurchaseOptions",id:"purchaseoptions",level:3},{value:"ProductRequest",id:"productrequest",level:3},{value:"Request Purchase Types",id:"request-purchase-types",level:2},{value:"RequestPurchaseProps",id:"requestpurchaseprops",level:3},{value:"RequestPurchasePropsByPlatforms",id:"requestpurchasepropsbyplatforms",level:3},{value:"Type Generation",id:"type-generation",level:2},{value:"See Also",id:"see-also",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"types",children:"Types"})}),"\n",(0,i.jsx)(n.p,{children:"Comprehensive type definitions for flutter_inapp_purchase v7.0. All types follow the OpenIAP specification and are auto-generated from the schema."}),"\n",(0,i.jsx)(n.h2,{id:"core-types",children:"Core Types"}),"\n",(0,i.jsx)(n.h3,{id:"requestpurchase",children:"RequestPurchase"}),"\n",(0,i.jsx)(n.p,{children:"Platform-specific purchase request configuration."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class RequestPurchase {\n  final RequestPurchaseIOS? ios;\n  final RequestPurchaseAndroid? android;\n\n  RequestPurchase({\n    this.ios,\n    this.android,\n  });\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"requestpurchaseios",children:"RequestPurchaseIOS"}),"\n",(0,i.jsx)(n.p,{children:"iOS-specific purchase parameters."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class RequestPurchaseIOS {\n  final String sku;                                                   // Product SKU\n  final bool? andDangerouslyFinishTransactionAutomaticallyIOS;       // Auto-finish transaction\n  final String? appAccountToken;                                      // App account token\n  final int? quantity;                                               // Purchase quantity\n  final PaymentDiscount? withOffer;                                  // Promotional offer\n\n  RequestPurchaseIOS({\n    required this.sku,\n    this.andDangerouslyFinishTransactionAutomaticallyIOS,\n    this.appAccountToken,\n    this.quantity,\n    this.withOffer,\n  });\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"requestpurchaseandroid",children:"RequestPurchaseAndroid"}),"\n",(0,i.jsx)(n.p,{children:"Android-specific purchase parameters."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class RequestPurchaseAndroid {\n  final List<String> skus;                      // Product SKUs\n  final String? obfuscatedAccountIdAndroid;     // Account ID\n  final String? obfuscatedProfileIdAndroid;     // Profile ID\n  final bool? isOfferPersonalized;              // Personalized offer\n  final String? purchaseToken;                  // Existing purchase token\n  final int? offerTokenIndex;                   // Offer token index\n  final int? prorationMode;                     // Proration mode\n\n  RequestPurchaseAndroid({\n    required this.skus,\n    this.obfuscatedAccountIdAndroid,\n    this.obfuscatedProfileIdAndroid,\n    this.isOfferPersonalized,\n    this.purchaseToken,\n    this.offerTokenIndex,\n    this.prorationMode,\n  });\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"product-types",children:"Product Types"}),"\n",(0,i.jsx)(n.p,{children:"flutter_inapp_purchase uses union types for products. Products are platform-specific and auto-generated from the OpenIAP schema."}),"\n",(0,i.jsx)(n.h3,{id:"product-union-type",children:"Product (Union Type)"}),"\n",(0,i.jsxs)(n.p,{children:["The base ",(0,i.jsx)(n.code,{children:"Product"})," type is implemented by platform-specific classes:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ProductIOS"})," - iOS in-app products"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ProductAndroid"})," - Android in-app products"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ProductSubscriptionIOS"})," - iOS subscriptions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ProductSubscriptionAndroid"})," - Android subscriptions"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"productios",children:"ProductIOS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class ProductIOS extends Product {\n  final String id;\n  final String displayName;\n  final String description;\n  final double price;\n  final String displayPrice;\n  final ProductTypeIOS type;\n  final SubscriptionInfoIOS? subscription;\n  final bool isFamilyShareable;\n  // ... additional iOS-specific properties\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"productandroid",children:"ProductAndroid"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class ProductAndroid extends Product {\n  final String productId;\n  final ProductType productType;\n  final String title;\n  final String name;\n  final String description;\n  final ProductAndroidOneTimePurchaseOfferDetail? oneTimePurchaseOfferDetails;\n  // ... additional Android-specific properties\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"productsubscriptionios",children:"ProductSubscriptionIOS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class ProductSubscriptionIOS extends ProductSubscription {\n  final String id;\n  final String displayName;\n  final String description;\n  final double price;\n  final String displayPrice;\n  final SubscriptionInfoIOS subscription;\n  final List<SubscriptionOfferIOS>? subscriptionOffers;\n  // ... additional iOS subscription properties\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"productsubscriptionandroid",children:"ProductSubscriptionAndroid"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class ProductSubscriptionAndroid extends ProductSubscription {\n  final String productId;\n  final String title;\n  final String name;\n  final String description;\n  final List<ProductSubscriptionAndroidOfferDetails>? subscriptionOfferDetails;\n  // ... additional Android subscription properties\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"./types/product-type",children:"Product Types"})," for detailed documentation."]}),"\n",(0,i.jsx)(n.h2,{id:"purchase-types",children:"Purchase Types"}),"\n",(0,i.jsx)(n.p,{children:"flutter_inapp_purchase uses union types for purchases. Purchases are platform-specific."}),"\n",(0,i.jsx)(n.h3,{id:"purchase-union-type",children:"Purchase (Union Type)"}),"\n",(0,i.jsxs)(n.p,{children:["The base ",(0,i.jsx)(n.code,{children:"Purchase"})," type is implemented by platform-specific classes:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PurchaseIOS"})," - iOS purchases"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PurchaseAndroid"})," - Android purchases"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"purchaseios",children:"PurchaseIOS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class PurchaseIOS extends Purchase {\n  final String id;\n  final String originalId;\n  final String productId;\n  final DateTime purchaseDate;\n  final PurchaseState transactionState;\n  final String? receiptData;\n  final int? quantity;\n  // ... additional iOS-specific properties\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"purchaseandroid",children:"PurchaseAndroid"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class PurchaseAndroid extends Purchase {\n  final String? orderId;\n  final String productId;\n  final PurchaseState purchaseState;\n  final int purchaseTime;\n  final String purchaseToken;\n  final bool acknowledged;\n  final bool autoRenewing;\n  // ... additional Android-specific properties\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"./types/purchase-state",children:"Purchase States"})," for detailed documentation."]}),"\n",(0,i.jsx)(n.h3,{id:"purchaseerror",children:"PurchaseError"}),"\n",(0,i.jsx)(n.p,{children:"Error information for failed purchases."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class PurchaseError {\n  final ErrorCode code;\n  final String message;\n  final String? debugMessage;\n  final String? productId;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"./types/error-codes",children:"Error Codes"})," for detailed documentation."]}),"\n",(0,i.jsx)(n.h2,{id:"enums",children:"Enums"}),"\n",(0,i.jsx)(n.h3,{id:"productquerytype",children:"ProductQueryType"}),"\n",(0,i.jsx)(n.p,{children:"Product query types for fetching products."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"enum ProductQueryType {\n  InApp,  // One-time purchases\n  Subs    // Subscriptions\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"producttype",children:"ProductType"}),"\n",(0,i.jsx)(n.p,{children:"Product types."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"enum ProductType {\n  InApp,\n  Subs,\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"purchasestate",children:"PurchaseState"}),"\n",(0,i.jsx)(n.p,{children:"Purchase states (unified across platforms)."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"enum PurchaseState {\n  Pending,      // Purchase pending\n  Purchased,    // Purchase completed\n  Failed,       // Purchase failed\n  Restored,     // Purchase restored\n  Deferred,     // Purchase deferred (awaiting approval)\n  Unknown,      // Unknown state\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"errorcode",children:"ErrorCode"}),"\n",(0,i.jsxs)(n.p,{children:["Error codes for purchase errors. See ",(0,i.jsx)(n.a,{href:"./types/error-codes",children:"Error Codes"})," for complete list."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"enum ErrorCode {\n  Unknown,\n  UserCancelled,\n  ItemUnavailable,\n  NetworkError,\n  ServiceError,\n  AlreadyOwned,\n  // ... see Error Codes documentation for full list\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"iapplatform",children:"IapPlatform"}),"\n",(0,i.jsx)(n.p,{children:"Platform enumeration."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"enum IapPlatform {\n  IOS,      // iOS platform\n  Android   // Android platform\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"additional-types",children:"Additional Types"}),"\n",(0,i.jsx)(n.h3,{id:"activesubscription",children:"ActiveSubscription"}),"\n",(0,i.jsx)(n.p,{children:"Lightweight subscription status information."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class ActiveSubscription {\n  final String productId;\n  final bool isActive;\n  final DateTime? expirationDate;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Returned by ",(0,i.jsx)(n.code,{children:"getActiveSubscriptions()"})," for lightweight subscription checks."]}),"\n",(0,i.jsx)(n.h3,{id:"purchaseoptions",children:"PurchaseOptions"}),"\n",(0,i.jsxs)(n.p,{children:["Options for ",(0,i.jsx)(n.code,{children:"getAvailablePurchases()"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class PurchaseOptions {\n  final bool? onlyIncludeActiveItemsIOS;\n  final bool? alsoPublishToEventListenerIOS;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"productrequest",children:"ProductRequest"}),"\n",(0,i.jsx)(n.p,{children:"Request configuration for fetching products."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class ProductRequest {\n  final List<String> skus;\n  final ProductQueryType? type;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"request-purchase-types",children:"Request Purchase Types"}),"\n",(0,i.jsx)(n.h3,{id:"requestpurchaseprops",children:"RequestPurchaseProps"}),"\n",(0,i.jsx)(n.p,{children:"Base class for purchase requests. Use factory constructors:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// In-app purchase\nRequestPurchaseProps.inApp(\n  request: RequestPurchasePropsByPlatforms(...),\n)\n\n// Subscription purchase\nRequestPurchaseProps.subs(\n  request: RequestPurchasePropsByPlatforms(...),\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"requestpurchasepropsbyplatforms",children:"RequestPurchasePropsByPlatforms"}),"\n",(0,i.jsx)(n.p,{children:"Platform-specific purchase request props."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class RequestPurchasePropsByPlatforms {\n  final RequestPurchaseIosProps? ios;\n  final RequestPurchaseAndroidProps? android;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"type-generation",children:"Type Generation"}),"\n",(0,i.jsxs)(n.p,{children:["All types in ",(0,i.jsx)(n.code,{children:"lib/types.dart"})," are auto-generated from the OpenIAP schema. ",(0,i.jsx)(n.strong,{children:"Do not edit manually"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"To regenerate types:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./scripts/generate-type.sh\n"})}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./types/product-type",children:"Product Types"})," - Detailed product type documentation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./types/purchase-state",children:"Purchase States"})," - Purchase state documentation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./types/error-codes",children:"Error Codes"})," - Error code documentation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../migration/from-v6",children:"Migration Guide"})," - Upgrading from v6.x"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);