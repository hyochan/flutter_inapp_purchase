---
slug: 7.0.0-rc.1-release
title: Release 7.0.0-rc.1 - Named Parameters API & Simplified Interface
authors: [hyochan]
tags: [release, api, flutter, in-app-purchase, breaking-change]
date: 2025-10-03
---

Release 7.0.0-rc.1 introduces a major API redesign focused on developer experience. All main methods now use named parameters instead of wrapper objects, making the API more intuitive and reducing boilerplate code significantly.

[View the release on GitHub â†’](https://github.com/hyochan/flutter_inapp_purchase/releases/tag/7.0.0-rc.1)

<!-- truncate -->

## Highlights

### Named Parameters Everywhere

The biggest change in 7.0 is the shift from object-based parameters to named parameters across all main methods:

```dart
// Before (v6.x)
final result = await iap.fetchProducts(
  ProductRequest(
    skus: ['product_id'],
    type: ProductQueryType.InApp,
  ),
);

// After (v7.0)
final result = await iap.fetchProducts(
  skus: ['product_id'],
  type: ProductQueryType.InApp,
);
```

This change makes the API:

- **More intuitive**: Method signatures are self-documenting
- **Less verbose**: No need to create wrapper objects
- **Better autocomplete**: IDEs can suggest parameters directly
- **Easier to read**: Code intent is clearer at the call site

### Simplified finishTransaction

One of the most impactful simplifications is in `finishTransaction`:

```dart
// Before (v6.x) - 10 parameters!
await iap.finishTransaction(
  id: purchase.id,
  isAutoRenewing: purchase.isAutoRenewing,
  platform: purchase.platform,
  productId: purchase.productId,
  purchaseState: purchase.purchaseState,
  purchaseToken: purchase.purchaseToken,
  quantity: purchase.quantity,
  transactionDate: purchase.transactionDate,
  isConsumable: true,
);

// After (v7.0) - Just pass the purchase!
await iap.finishTransaction(
  purchase: purchase,
  isConsumable: true,
);
```

This reduces boilerplate by **80%** while maintaining all functionality.

### Unified RequestPurchaseProps Structure

The complex sealed class structure has been simplified:

```dart
// Before (v6.x) - Factory methods
final props = RequestPurchaseProps.inApp(
  request: RequestPurchasePropsByPlatforms(...)
);

// After (v7.0) - Direct constructor
final props = RequestPurchaseProps(
  request: RequestPurchasePropsByPlatforms(...),
  type: ProductQueryType.InApp,
);
```

This provides:

- Better type safety
- Clearer intent
- Simplified mental model
- Easier testing

### Alternative Billing Support

Added `AlternativeBillingModeAndroid` enum for Android alternative billing:

```dart
await iap.initConnection(
  alternativeBillingModeAndroid: AlternativeBillingModeAndroid.UserChoice,
);
```

Supports:

- `None` - Standard Google Play billing
- `UserChoice` - User can choose billing method
- `AlternativeOnly` - Skip Google Play billing

## Migration Guide

We've prepared a comprehensive [migration guide](/docs/migration/from-v6) to help you upgrade from v6.x to v7.0.

Key steps:

1. Update `fetchProducts`, `getAvailablePurchases`, and other query methods to use named parameters
2. Simplify `finishTransaction` calls to pass the `Purchase` object directly
3. Replace `.inApp()` and `.subs()` factory methods with direct constructors
4. Update validation and deep link methods

## Breaking Changes

This release contains breaking changes to improve the API. All changes are mechanical and can be migrated with simple find-and-replace:

- `fetchProducts` now uses named parameters
- `getAvailablePurchases` now uses named parameters
- `finishTransaction` accepts `Purchase` object directly
- `validateReceiptIOS` uses named parameters
- `deepLinkToSubscriptions` uses named parameters
- `initConnection` accepts optional `alternativeBillingModeAndroid`
- `RequestPurchaseProps.inApp()` / `.subs()` removed (use constructor + `type`)

### Removed Methods

The following iOS-specific methods have been removed in v7.0. Use the standard OpenIAP-compliant methods instead:

- `getAvailableItemsIOS()` - Use `getAvailablePurchases()` instead
- `getAppTransactionTypedIOS()` - Use `getAppTransactionIOS()` instead
- `getPurchaseHistoriesIOS()` - Use `getAvailablePurchases()` with options instead

## Benefits

### Developer Experience

The new API reduces cognitive load and makes code more maintainable:

**Before**: Creating and managing wrapper objects
**After**: Direct, clear parameter passing

### Less Code

Typical reduction in lines of code:

- Purchase finishing: **-80%**
- Product fetching: **-30%**
- Purchase validation: **-40%**

### Better Tooling

IDEs can now:

- Show all parameters inline
- Provide better autocomplete
- Catch errors earlier
- Suggest valid values

## OpenIAP Alignment

This release continues our alignment with the OpenIAP specification, ensuring consistency across:

- Expo IAP
- Flutter In-App Purchase
- Kotlin Multiplatform SDK
- React Native IAP (planned)

## Acknowledgments

Thanks to all contributors and users who provided feedback on the API design. Special thanks to the community for testing pre-release versions.

## Resources

- [Migration Guide](/docs/migration/from-v6)
- [API Reference](/docs/api/overview)
- [Complete Examples](/docs/examples/complete-implementation)
- [GitHub Release](https://github.com/hyochan/flutter_inapp_purchase/releases/tag/7.0.0-rc.1)

Ready to upgrade? Follow our [migration guide](/docs/migration/from-v6) and experience the cleaner API today!
